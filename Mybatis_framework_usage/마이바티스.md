# 마이바티스
애플리케이션 규모가 작으면 JDBC로 충분히 개발 가능. 하지만 인터넷 사용자 폭발적 증가, 애플리케이션 기능 복잡성 증가시 JDBC로 개발하는데 한계. SQL문이 프로그래밍 코드에 섞여 코드를 복잡하게 만듦. 애플리케이션의 기능이 복잡할 경우, 해당 기능과 관련된 SQL문의 길이가 몇십줄. 이런 SQL문을 문자열로 만들어서 사용하면 상당히 불편하고 많은 오류 발생, 유지보수 문제 자주 발생.
> 기존 JDBC 과정
>
> connection -> Statement 객체 생성 -> SQL문 전송 -> 결과 반환 -> close

반복적으로 구현해야 할 SQL문이 많고 SQL문이 복잡해지면서 마이바티스(MyBatis)나 하이버네이트 같은 데이터베이스 연동 관련 프레임워크 등장. SQL문의 가독성을 높여 사용하기 편하게 만든 것이 마이바티스 프레임워크. 마이바티스를 사용하면 복잡한 SQL문도 SQL Developer같은 도구에서 SQL문을 사용하는 것처럼 표준화된 방법으로 사용 가능.

**마이바티스 프레임워크 특징**
* SQL 실행 결과를 자바 빈즈 또는 Map 객체에 매핑해주는 Persisitence 솔루션으로 관리. SQL을 소스 코드가 아닌 XML로 분리.
* SQL문과 프로그래밍 코드를 분리해서 구현
* 데이터소스(DataSource) 기능과 트랜잭션 처리 기능 제공


**퍼시스턴스 프레임워크로 사용된 마이바티스 구조**
1. SqlMapConfig.xml에 각 기능별로 실행할 SQL문을 SqlMap.xml에 미리 작성 후 등록.
2. 애플리케이션에서 데이터베이스와 연동에 필요한 데이터를 각각의 매개변수에 저장한 후 마이바티스에 전달.
3. 애플리케이션에서 요청한 SQL문을 SqlMap.xml에서 선택.
4. 전달한 매개변수와 선택한 SQL문을 결합.
5. 매개변수와 결합된 SQL문을 DBMS에서 실행.
6. DBMS에서 반환된 데이터를 애플리케이션에서 제공하는 적당한 매개변수에 저장한 후 반환.

데이터베이스 연동 시 사용되는 SQL문을 미리 SqlMapConfig.xml에 작성해 놓고 애플리케이션에서 데이터베이스 연동 시 해당 SQL문에서 사용될 데이터를 지원하는 매개변수에 저장한 후 SQL문에 전달. 전달된 매개변수와 SQL문을 결합해 SQL문을 DBMS로 전송하여 실행. 결과를 애플리케이션에서 제공하는 자료형으로 반환.

# 마이바티스 설치
1. http://www.mybatis.org 접속, Products 탭.
2. MyBatis 3 옆에 download 링크 클릭
3. mybatis-3.4.6.zip 파일 다운로드
4. 압축 해제
5. mybatis-3.4.6.jar 복사, 프로젝트의 lib 폴더에 붙여넣기. 버전에 대응하는 ojdbc6.jar 파일도 복사 붙여넣기.
